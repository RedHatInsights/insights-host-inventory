apiVersion: v1
kind: Template
metadata:
  name: insights-host-inventory-cjis
objects:
- apiVersion: cloud.redhat.com/v1alpha1
  kind: ClowdJobInvocation
  metadata:
    labels:
      app: host-inventory
    name: host-synchronizer-${SYNCHRONIZER_RUN_NUMBER}
  spec:
    appName: host-inventory
    jobs:
      - synchronizer
- apiVersion: cloud.redhat.com/v1alpha1
  kind: ClowdJobInvocation
  metadata:
    name: populate-org-id-column-${POPULATOR_RUN_NUMBER}
  spec:
    appName: host-inventory
    jobs:
      - org-id-populator
parameters:
- name: POPULATOR_RUN_NUMBER # in case the populator needs to be run more than once increment this parameter to get a new job
  value: '1'
- name: SYNCHRONIZER_RUN_NUMBER
  value: '1'
